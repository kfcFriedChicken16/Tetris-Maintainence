<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.effect.Glow?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.media.MediaView?>
<?import javafx.scene.paint.Color?>
<?import javafx.scene.text.Font?>
<?import java.net.URL?>

<StackPane fx:controller="com.comp2042.menu.MenuController" xmlns:fx="http://javafx.com/fxml" styleClass="menu-background">
    
    <!-- Video Background (Full Screen) -->
    <MediaView fx:id="backgroundVideo" preserveRatio="false" 
               StackPane.alignment="CENTER"/>
    
    <!-- Dark Overlay (40% darker as requested) -->
    <Region styleClass="background-overlay"/>
    
    <!-- Main Content -->
    <VBox alignment="CENTER" spacing="30" maxWidth="400">
        
        <!-- Title -->
        <Label fx:id="titleLabel" text="TETRIS" styleClass="game-title">
            <font>
                <Font name="Arial Bold" size="96"/>
            </font>
        </Label>
        
        <!-- Instruction Text -->
        <Label fx:id="instructionLabel" text="Click on the screen or press Space to start" styleClass="instruction-text">
            <font>
                <Font name="Arial" size="16"/>
            </font>
        </Label>
        
        <!-- Menu Buttons (Initially Hidden) -->
        <VBox fx:id="menuButtonsContainer" alignment="CENTER" spacing="20" maxWidth="300" visible="false" managed="false">
            
            <Button fx:id="singlePlayerBtn" text="Start" onAction="#selectSinglePlayer" styleClass="menu-button">
                <font>
                    <Font name="Arial Bold" size="16"/>
                </font>
                <effect>
                    <Glow level="0.3"/>
                </effect>
            </Button>
            
            <Button fx:id="settingsBtn" text="Settings" onAction="#openSettings" styleClass="menu-button">
                <font>
                    <Font name="Arial Bold" size="16"/>
                </font>
                <effect>
                    <Glow level="0.3"/>
                </effect>
            </Button>
            
            <Button fx:id="exitBtn" text="Exit Game" onAction="#exitApplication" styleClass="menu-button-exit">
                <font>
                    <Font name="Arial Bold" size="16"/>
                </font>
            </Button>
            
        </VBox>
        
        <!-- Mode Selection Buttons (Initially Hidden) -->
        <VBox fx:id="modeButtonsContainer" alignment="CENTER" spacing="20" maxWidth="350" visible="false" managed="false">
            
            <Button fx:id="classicBtn" text="CLASSIC" onAction="#selectClassic" styleClass="mode-button">
                <font>
                    <Font name="Arial Bold" size="18"/>
                </font>
                <effect>
                    <Glow level="0.3"/>
                </effect>
            </Button>
            
            <Button fx:id="sprintBtn" text="SPRINT" onAction="#selectSprint" styleClass="mode-button">
                <font>
                    <Font name="Arial Bold" size="18"/>
                </font>
                <effect>
                    <Glow level="0.3"/>
                </effect>
            </Button>
            
            <Button fx:id="ultraBtn" text="ULTRA" onAction="#selectUltra" styleClass="mode-button">
                <font>
                    <Font name="Arial Bold" size="18"/>
                </font>
                <effect>
                    <Glow level="0.3"/>
                </effect>
            </Button>
            
            <Button fx:id="survivalBtn" text="SURVIVAL" onAction="#selectSurvival" styleClass="mode-button">
                <font>
                    <Font name="Arial Bold" size="18"/>
                </font>
                <effect>
                    <Glow level="0.3"/>
                </effect>
            </Button>
            
            <Button fx:id="backToMenuBtn" text="BACK" onAction="#backToMainMenu" styleClass="menu-button-exit" style="-fx-pref-width: 280;">
                <font>
                    <Font name="Arial Bold" size="16"/>
                </font>
            </Button>
            
        </VBox>
        
    </VBox>
    
    <!-- Stylesheets -->
    <stylesheets>
        <URL value="@menuStyle.css"/>
    </stylesheets>
    
</StackPane>
